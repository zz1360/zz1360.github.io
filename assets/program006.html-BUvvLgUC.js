import{_ as o,c as r,o as n,b as e}from"./app-DukR-6js.js";const t={};function c(s,l){return n(),r("div",null,l[0]||(l[0]=[e("p",null,"为了写出容易测试的代码，不需要测试所依赖的外部系统（分布式锁，第三方服务等）的逻辑正确性，所以如果代码中依赖了外部系统或者不可控组件，比如需要数据库、网络通信、文件系统等，那我们就需要将被测代码与外部系统解依赖，也就是mock。",-1),e("p",null,"mock分为手动mock 和 框架mock。",-1),e("p",null,"第三方依赖可以通过set方法的依赖注入，在测试的时候注入我们的重写实现类。",-1),e("p",null,"对于分布式锁这种可能不是我们维护的类，可以通过加一层封装，再重写封装类进行替换。",-1),e("p",null,"如果代码中包含时间这种“未决行为”逻辑，比如交易创建时间，应该在构造函数中自动获取系统时间，不应该时间的set方法。那么可以将这种未决行为进行逻辑封装。比如说是否过期，封装一个isExpired（）方法。那么测试的时候重写这个方法即可。",-1)]))}const p=o(t,[["render",c],["__file","program006.html.vue"]]);export{p as default};
